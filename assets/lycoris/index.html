<!doctype html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport"
          content="width=device-width, user-scalable=no, initial-scale=1.0, maximum-scale=1.0, minimum-scale=1.0">
    <meta http-equiv="X-UA-Compatible" content="ie=edge">
    <link rel="stylesheet" href="sakana.css"/>
    <link rel="stylesheet" href="index.css"/>
    <script>
        function getParams() {
            let url = location.search
            let obj = {};
            if (url.indexOf('?') !== -1) {
                let str = url.substring(1)
                let arr = str.split('&');
                arr.map(item => {
                    obj[item.split('=')[0]] = item.split('=')[1]
                })
            }
            return obj
        }

        function initSakanaWidget() {
            const params = getParams()
            const isBonus = params.isBonus == 'true'

            for (let i = 1; i <= 12; i++) {
                if (!isBonus && (i < 9 || i > 10)) {
                    continue
                }
                let inertia = (Math.floor(Math.random() * 11) + 35) / 10000
                let angle = i % 2 === 0 ? -10 : 10
                new SakanaWidget({
                    character: i % 2 === 0 ? 'takina' : 'chisato',
                    autoFit: true,
                    controls: false
                }).setState({i: inertia, d: 1, r: angle, y: 10}).mount("#widget" + i)
            }
        }
    </script>
    <script async onload="initSakanaWidget()" src="sakana.js"></script>
</head>
<body>
<div class="top">
    <div class="sakana" id="widget1"></div>
    <div class="sakana" id="widget2"></div>
    <div class="sakana" id="widget3"></div>
    <div class="sakana" id="widget4"></div>
    <div class="sakana" id="widget5"></div>
    <div class="sakana" id="widget6"></div>
</div>

<div class="bottom">
    <div class="sakana" id="widget7"></div>
    <div class="sakana" id="widget8"></div>
    <div class="sakana" id="widget9"></div>
    <div class="sakana" id="widget10"></div>
    <div class="sakana" id="widget11"></div>
    <div class="sakana" id="widget12"></div>
</div>
</body>
</html>